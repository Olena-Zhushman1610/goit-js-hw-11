{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// –û–ø–∏—Å–∞–Ω–∏–π —É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó\nimport iziToast from 'izitoast';\n// –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —ñ–º–ø–æ—Ä—Ç —Å—Ç–∏–ª—ñ–≤\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport axios from 'axios';\n// –ö–ª—é—á API\nconst API_KEY = '52348625-41a9db4c50e5799aece4dcd77';\n// –ë–∞–∑–æ–≤–∏–π URL –¥–ª—è –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ Pixabay API\nconst BASE_URL = 'https://pixabay.com/api/';\nexport async function getImagesByQuery(query) {\n  // –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  // –§–æ—Ä–º—É—î–º–æ –ø–æ–≤–Ω–∏–π URL –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏\n  const url = `${BASE_URL}?${searchParams}`;\n\n  try {\n    // –í–∏–∫–æ–Ω—É—î–º–æ HTTP-–∑–∞–ø–∏—Ç\n    const response = await axios.get(url);\n\n    // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å data –∑ –æ—Ç—Ä–∏–º–∞–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ\n    return response.data;\n  } catch (error) {\n    // –û–±—Ä–æ–±–ª—è—î–º–æ –ø–æ–º–∏–ª–∫–∏ –∑–∞–ø–∏—Ç—É\n    throw new Error(`–ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è: ${error.message}`);\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader'); //  –µ–ª–µ–º–µ–Ω—Ç –ª–æ–∞–¥–µ—Ä–∞ –º–∞—î –±—É—Ç–∏ –≤ HTML\n\n// –°—Ç–≤–æ—Ä—é—î–º–æ –µ–∫–∑–µ–º–ø–ª—è—Ä SimpleLightbox\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n//–°—Ç–≤–æ—Ä—é—î HTML-—Ä–æ–∑–º—ñ—Ç–∫—É –≥–∞–ª–µ—Ä–µ—ó —Ç–∞ –¥–æ–¥–∞—î —ó—ó —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.\n//–í–∏–∫–ª–∏–∫–∞—î refresh() –¥–ª—è SimpleLightbox.\n\nexport function renderGallery(images) {\n  console.log(images);\n\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n    <li class=\"gallery-item\">\n      <div class=\"card-info\">\n        <a href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" \n            src=\"${webformatURL}\" \n            alt=\"${tags}\" \n            loading=\"lazy\" \n          />\n        </a>\n        <div class=\"info\">\n          <p><span class=\"likes-label\">Likes:</span> ${likes}</p>\n          <p><span class=\"views-label\">Views:</span> ${views}</p>\n          <p><span class=\"comments-label\">Comments:</span> ${comments}</p>\n          <p><span class=\"downloads-label\">Downloads:</span> ${downloads}</p>\n        </div>\n      </div>\n    </li>`\n    )\n    .join('');\n\n  galleryContainer.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh(); //  –æ–Ω–æ–≤–ª—é—î–º–æ SimpleLightbox\n}\n//–û—á–∏—â—É—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≥–∞–ª–µ—Ä–µ—ó.\n\nexport function clearGallery() {\n  galleryContainer.innerHTML = '';\n}\n//–ü–æ–∫–∞–∑—É—î –ª–æ–∞–¥–µ—Ä.\n\nexport function showLoader() {\n  loader.classList.add('is-visible');\n}\n\n//–ü—Ä–∏—Ö–æ–≤—É—î –ª–æ–∞–¥–µ—Ä.\n\nexport function hideLoader() {\n  loader.classList.remove('is-visible');\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\n\nimport {\n  renderGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n// –û–ø–∏—Å–∞–Ω–∏–π —É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó\nimport iziToast from 'izitoast';\n// –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —ñ–º–ø–æ—Ä—Ç —Å—Ç–∏–ª—ñ–≤\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('.form');\nconst galleryContainer = document.querySelector('.gallery');\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  console.log(event.target.elements.search.value);\n\n  const query = event.target.elements.search.value.trim();\n  if (!query) return;\n\n  try {\n    showLoader(); // –ø–æ–∫–∞–∑—É—î–º–æ –ª–æ–∞–¥–µ—Ä\n    clearGallery(); // –æ—á–∏—â–∞—î–º–æ –≥–∞–ª–µ—Ä–µ—é –ø–µ—Ä–µ–¥ –Ω–æ–≤–∏–º –ø–æ—à—É–∫–æ–º\n\n    const data = await getImagesByQuery(query);\n    // –û—á–∏—â—É—î–º–æ –≥–∞–ª–µ—Ä–µ—é –ø–µ—Ä–µ–¥ –Ω–æ–≤–∏–º –ø–æ—à—É–∫–æ–º\n    //galleryContainer.innerHTML = '';\n\n    if (data.hits.length === 0) {\n      iziToast.show({\n        title: '‚ùå',\n        color: 'red',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n      return;\n    }\n    renderGallery(data.hits);\n    //searchForm.reset(); //–æ—á–∏—â–∞—î–º–æ —Ñ–æ—Ä–º—É –ø—ñ—Å–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong while fetching images üò¢',\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader(); // —Ö–æ–≤–∞—î–º–æ –ª–æ–∞–¥–µ—Ä –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è\n    searchForm.reset(); //–æ—á–∏—â–∞—î–º–æ —Ñ–æ—Ä–º—É –ø—ñ—Å–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏\n  }\n});\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","searchParams","url","axios","error","galleryContainer","loader","lightbox","SimpleLightbox","renderGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","searchForm","event","data","iziToast"],"mappings":"+vBAOA,MAAMA,EAAU,qCAEVC,EAAW,2BACV,eAAeC,EAAiBC,EAAO,CAE5C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAGKE,EAAM,GAAGJ,CAAQ,IAAIG,CAAY,GAEvC,GAAI,CAKF,OAHiB,MAAME,EAAM,IAAID,CAAG,GAGpB,IACjB,OAAQE,EAAO,CAEd,MAAM,IAAI,MAAM,mCAAmCA,EAAM,OAAO,EAAE,CACnE,CACH,CC9BA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,SAAS,EAGzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAKM,SAASC,EAAcC,EAAQ,CACpC,QAAQ,IAAIA,CAAM,EAElB,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA;AAAA,mBAGOL,CAAa;AAAA;AAAA,mBAEbD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uDAKgCC,CAAK;AAAA,uDACLC,CAAK;AAAA,6DACCC,CAAQ;AAAA,+DACNC,CAAS;AAAA;AAAA;AAAA,UAInE,EACA,KAAK,EAAE,EAEVb,EAAiB,mBAAmB,YAAaM,CAAM,EACvDJ,EAAS,QAAO,CAClB,CAGO,SAASY,GAAe,CAC7Bd,EAAiB,UAAY,EAC/B,CAGO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,IAAI,YAAY,CACnC,CAIO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,OAAO,YAAY,CACtC,CCtDA,MAAMgB,EAAa,SAAS,cAAc,OAAO,EACxB,SAAS,cAAc,UAAU,EAE1DA,EAAW,iBAAiB,SAAU,MAAMC,GAAS,CACnDA,EAAM,eAAc,EACpB,QAAQ,IAAIA,EAAM,OAAO,SAAS,OAAO,KAAK,EAE9C,MAAMvB,EAAQuB,EAAM,OAAO,SAAS,OAAO,MAAM,OACjD,GAAKvB,EAEL,GAAI,CACFoB,IACAD,IAEA,MAAMK,EAAO,MAAMzB,EAAiBC,CAAK,EAIzC,GAAIwB,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,KAAK,CACZ,MAAO,IACP,MAAO,MACP,QACE,2EACF,SAAU,UAClB,CAAO,EACD,MACD,CACDhB,EAAce,EAAK,IAAI,CAExB,MAAe,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRJ,IACAC,EAAW,MAAK,CACjB,CACH,CAAC"}